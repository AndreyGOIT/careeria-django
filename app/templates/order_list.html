{% extends "index.html" %} {% block content %}

<div class="d-flex justify-content-between align-items-center mb-4">
  <h1 class="display-5 fw-bold">Orders</h1>
  <a href="{% url 'order_add' %}" class="btn btn-success btn-lg">
    <i class="bi bi-plus-circle"></i> Add New Order
  </a>
</div>

<div class="table-responsive">
  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>Order ID</th>
        <th>Customer</th>
        <th>Product</th>
        <th>Quantity</th>
        <th>Status</th>
        <th>Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for order in orders %}
      <tr>
        <td>#{{ order.id }}</td>
        <td>{{ order.customer.companyname }}</td>
        <td>{{ order.product.productname }}</td>
        <td>{{ order.quantity }}</td>
        <td>
          <span
            class="badge {% if order.status == 'CMP' %}bg-success {% elif order.status == 'CNC' %}bg-danger {% else %}bg-warning{% endif %}"
          >
            {{ order.get_status_display }}
          </span>
        </td>
        <td>{{ order.order_date|date:"d.m.Y H:i" }}</td>
        <td>
          <a
            href="{% url 'order_confirm_delete' order.id %}"
            class="btn btn-danger btn-sm"
          >
            <i class="bi bi-trash"></i> Delete
          </a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="7" class="text-center py-4">
          <i class="bi bi-inbox display-4 d-block text-muted mb-3"></i>
          <h4 class="text-muted">No orders found</h4>
          <p class="text-muted">Start by creating your first order</p>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
